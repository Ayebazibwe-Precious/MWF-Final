meta(charset="UTF-8")
meta(name="viewport", content="width=device-width,initial-scale=1")
title Stock Availability Report
link(rel="stylesheet", href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css", integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==", crossorigin="anonymous", referrerpolicy="no-referrer")
link(rel="stylesheet", href="css/stockreport.css")

main.main-content
  .report-container
    header.report-header
      h1 MWF Stock Report
      p B2B Wood & Furniture Company
      p
        strong Date:
        |  
        span#reportDate

    // Filter Section
    section.filter
      form#filterForm
        label(for="filterType") View By: 
        select#filterType(name="filterType")
          option(value="" selected)
          option(value="day") Day
          option(value="week") Week
          option(value="month") Month
        input#filterDate(type="date", name="filterDate")
        button.btn-filter(type="submit")
          i.fa-solid.fa-filter
          |  Apply Filter
        button.btn-refresh(type="button" id="btnRefresh")
          i.fa-solid.fa-rotate-right
          |  Refresh
        a.btn-close(href="/stockManager")
          i.fa-solid.fa-xmark
          |  Close

    // Table Section
    section.table-section
      h2 Stock Data
      .table-wrapper
        table
          thead
            tr
              th Product Name
              th Product Type
              th Quantity
              th Cost Price
              th Selling Price
              th Supplier Name
              th Date Received
              th Quality
              th Color
              th Measurements
          tbody#stock-table-body
          if items.length 
            each item in items 
              tr 
                td #{item.name}
                td #{item.type}
                td #{item.qty}
                td #{item.cost}
                td #{item.price}
                td #{item.supplier}
                td #{moment(item.date).format("DD-MM-YYYY")}
                td #{item.quality}
                td #{item.color}
                td #{item.measurements}

    // Footer Section
    footer.report-footer
      p Generated by MWF Stock System | Confidential Report
      button.btn-print(onclick="window.print()")
        i.fa-solid.fa-print
        |  Print Report

// Embed backend stock as JSON for frontend
script.
  window.stockFromDB = !{JSON.stringify(items)};

// Load JS
script(src="/js/stockreport.js")
