extends layout

block css 
  link(rel="stylesheet", href="css/userTable.css")

block content
  include includes/sidebar.pug

  .main
    .container
      // üîù Top Bar
      .top-bar
        .search-box
          input#searchUser(type="text", placeholder="Search by user name")
        a.btn-add(href="/signup")
          i.fa-solid.fa-plus
          |  Add User

      // User Table
      .table-wrapper
        table#userTable
          thead
            tr
              th User Name
              th Email
              th Role
              th Actions
          tbody
            if users.length
              each user in users
                tr
                  td #{user.name}
                  td #{user.email}
                  td #{user.role}
                  td.action-buttons
                    a.action-btn.edit(href=`/editUser/${user._id}`)
                      i.fa-solid.fa-pen-to-square
                      |  Edit
                    form.delete-form(method='POST', action='/deleteUser')
                      input(type='hidden', name='id', value=user._id)
                      input(type='hidden', name='userName', value=user.name)
                      button.action-btn.delete(type='submit')
                        i.fa-solid.fa-trash
                        |  Delete
            // üîé No results row (hidden by default)
            tr#noResults(style="display:none;")
              td(colspan="4") User not found

  // Confirmation Modal
  #confirmModal.modal
    .modal-content
      p#confirmMessage Are you sure you want to delete this user?
      .modal-actions
        button#confirmYes Yes, Delete
        button#confirmNo Cancel

  // Footer
  footer.footer
    p ¬© 2025 MWF. All rights reserved.
    p
      | Developed by 
      span.dev-name Mary Precious Ayebazibwe
      |  at 
      span.company-name Mayondo Wood & Furniture Ltd.

  script(src="js/userTable.js")
