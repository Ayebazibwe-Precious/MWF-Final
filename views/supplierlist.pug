extends layout

block css
  link(rel="stylesheet", href="/css/supplierlist.css")

block content
  include includes/sidebar.pug

  // --- Page Wrapper ---
  .page-wrapper
    // --- Main Content Area ---
    .page-content
      // --- Main Container ---
      .container
        h1 Supplier Management

        // --- Top Bar (Search + Add) ---
        .top-bar
          .search-box
            input#searchInput(type="text", placeholder="Search by name, company, or product...")
          a.btn-add(href="/supplier")
            i.fa-solid.fa-plus
            |  Add Supplier

        // --- Supplier Table ---
        .table-wrapper
          table#supplierTable
            thead
              tr
                th Supplier Name
                th Company Name
                th Email Address
                th Phone Number
                th Address
                th Bank Details
                th Product Name
                th Product Type
                th Actions
            tbody
              if suppliers.length
                each supplier in suppliers
                  tr
                    td #{supplier.name}
                    td #{supplier.company}
                    td #{supplier.email}
                    td #{supplier.phone}
                    td #{supplier.address}
                    td #{supplier.bank}
                    td #{supplier.productName}
                    td #{supplier.productType}
                    td.action-buttons
                      a.action-btn.edit(href=`/editsupplier/${supplier._id}`)
                        i.fa-solid.fa-pen-to-square
                        |  Edit
                      form.delete-form(method="POST", action="/deletesupplier", style="display:inline;")
                        input(type="hidden", name="id", value=supplier._id)
                        input(type="hidden", name="supplierName", value=supplier.name)
                        button.action-btn.delete(type="submit")
                          i.fa-solid.fa-trash
                          |  Delete
              else
                tr#noResults
                  td(colspan="9") Supplier not found.

        // --- Confirmation Modal ---
        #confirmModal.modal
          .modal-content
            p#confirmMessage Are you sure you want to delete this supplier?
            .modal-actions
              button#confirmYes Yes, Delete
              button#confirmNo Cancel

    // --- Footer ---
    footer.footer
      p Â© 2025 MWF. All rights reserved.
      p
        | Developed by 
        span.dev-name Mary Precious Ayebazibwe
        |  at 
        span.company-name Mayondo Wood & Furniture Ltd.

  // --- JavaScript ---
  script(src="/js/supplierlist.js")
