extends layout
block css 
  link(rel="stylesheet", href="css/salesreport.css") 

block content
  main.main-content
    .report-container
      header.report-header
        h1 MWF Sales Report
        p B2B Wood & Furniture Company
        p
          strong Date:
          |  
          span#reportDate

      // Filter Section
      section.filter
        form#filterForm
          label(for="filterType") View By: 
          select#filterType(name="filterType")
            option(value="" selected) -- Select --
            option(value="day") Day
            option(value="week") Week
            option(value="month") Month
          input#filterDate(type="date", name="filterDate")
          button.btn-filter(type="submit")
            i.fa-solid.fa-filter
            | Apply Filter
          button.btn-refresh(type="button", id="btnRefresh")
            i.fa-solid.fa-rotate-right
            | Refresh
          a.btn-close(href="/saleslist")
            i.fa-solid.fa-xmark
            | Close

      // Table Section
      section.table-section
        h2 Sales Data
        .table-wrapper
          table
            thead
              tr
                th Product Name
                th Product Type
                th Quantity
                th Unit Price
                th Date
                th Payment Type
                th Sales Agent
                th Total Price
            tbody
              if sales.length
                each sale in sales
                  tr
                    td #{sale.productName}
                    td #{sale.productType}
                    td #{sale.quantity}
                    td #{sale.unitPrice}
                    td #{moment(sale.saleDate).format("DD-MM-YYYY")}
                     td #{sale.paymentType}
                    td #{sale.salesAgent.email}
                    td #{sale.total}
              else
                tr
                  td(colspan="8") No stock data available

      // Footer Section
      footer.report-footer
        p Generated by MWF Sales System | Confidential Report
        button.btn-print(onclick="window.print()")
          i.fa-solid.fa-print
          | Print Report

  // Embed backend sales as JSON for frontend
  script.
    window.salesFromDB = !{JSON.stringify(sales)};

  // Load JS
  script(src="/js/salesreport.js")
